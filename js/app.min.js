"use strict";var appCtrl={quotesAPI:{url:"https://got-quotes.herokuapp.com/quotes"},currentQuote:{},init:function(){appView.init(),this.initListeners(),this.getQuote()},initListeners:function(){var a=this;appView.refreshButton.addEventListener("click",function(){a.getQuote()})},getQuote:function(){var a=this;appView.quoteContainer.style.opacity=0,appView.animateSpin(),$.ajax({headers:{"X-Mashape-Key":"OivH71yd3tmshl9YKzFH7BTzBVRQp1RaKLajsnafgL2aPsfP9V",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},url:"https://andruxnet-random-famous-quotes.p.mashape.com/cat="}).done(function(b){var c=JSON.parse(b);a.parseQuote(c)}).fail(function(b){a.parseQuote({quote:"A quote could not be found.",author:"",category:""})})},parseQuote:function(a){console.log(a),this.currentQuote.quote=a.quote,this.currentQuote.author=a.author,this.currentQuote.category=a.category,appView.displayQuote()}},appView={init:function(){this.queryElements()},queryElements:function(){this.quoteContainer=document.getElementById("quote-info"),this.quoteEl=document.getElementById("quote"),this.quoteAuthorEl=document.getElementById("author"),this.categoryEl=document.getElementById("category"),this.refreshButton=document.getElementById("refresh"),this.refreshIcon=document.getElementById("refresh-icon"),this.tweetButton=document.getElementById("tweet"),this.tweetLink=document.getElementById("tweet-link")},displayQuote:function(){this.quoteEl.innerHTML=appCtrl.currentQuote.quote,this.quoteAuthorEl.innerHTML=appCtrl.currentQuote.author,this.categoryEl.innerHTML=appCtrl.currentQuote.category;var a=appCtrl.currentQuote.quote.split(" ").join("+");this.fadeIn(this.quoteContainer),this.stopSpin(),this.tweetLink.setAttribute("href",'https://twitter.com/intent/tweet?text="'+a+"&hashtags="+appCtrl.currentQuote.category)},fadeIn:function(a){a.style.opacity=0;var b=+new Date,c=function(){a.style.opacity=+a.style.opacity+(new Date-b)/400,b=+new Date,+a.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};c()},animateSpin:function(){this.refreshIcon.classList?this.refreshIcon.classList.add("spinning"):this.refreshIcon.className+="spinning"},stopSpin:function(){this.refreshIcon.classList?this.refreshIcon.classList.remove("spinning"):this.refreshIcon.className=this.refreshIcon.className.replace(new RegExp("(^|\\b)"+"spinning".split(" ").join("|")+"(\\b|$)","gi")," ")}};appCtrl.init();